### Redis是什么
是一个基于内存的数据库

### 为什么redis这么快
1. 他是纯内存操作的嘛
2. 他是基于那个非阻塞IO复用模型的
3. 然后他对数据存储进行了一些优化嘛比如有跳表这种

### Redis有几种数据类型
key都是字符串类型
value有五种
1. String (字符串)
2. List (链表)
3. Hash(哈希)
4. Set(无序集合类型,元素不可重复)
5. Zset(有序集合类型，元素不可重复)
6. bitmap 布隆过滤器
7. hyperloglog 统计不重复的数据


### Redis为什么这么快
1. 使用内存进行存储，避免了写盘操作
2. 单线程结构，避免了线程切换的消耗
3. 运用了多路复用IO模型


### Redis 哨兵模式 集群模式
自动选择老大的模式 投票

### 缓存雪崩
我的理解是原来缓存里的过期时间到了或者是缓存层宕机了，然后本来应该访问缓存的请求一股脑全部去访问数据库，数据库就绷不住了就宕机了。

解决办法：用加锁或者队列的方式保证不会有大量的线程对数据库进行读写。或者是把缓存过期的时间分散开，还有就是把缓存层设计成高可用的。

### 缓存击穿
雪崩指的是大量的key失效的情况，击穿是单个热点key在不停的扛着大并发，然后把这个缓存击破，直接请求到数据库里。

解决办法就是做互斥锁，只有第一个请求线程能拿到锁并执行数据库查询操作，其他的线程拿不到锁就阻塞在后面等着，等到第一个线程将数据写入缓存后，直接走缓存。或者是让这个热点key就不让他过期了。

### 缓存穿透
指的是用户本来要去查数据，但是数据库本身就没有这个数据，所以缓存也没有，这样他查的时候就一直查完缓存查数据库做无效的查询。

解决办法：采用布隆过滤器，就把所有可能存在的数据做hash然后放到一个bitmap里面，一定不存在的数据就会被bitmap拦截掉。或者是用一个最简单的方法，就是这个如果这个查询返回的数据是空的话，那么就把这个空值给缓存了，然后设定一个两三分钟的过期时间。或者是针对某个用户把他拉黑。


