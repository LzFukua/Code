
### 一些指标
Occ客房入住率 
ADR已售客房平均房价 
RevPAR 可供出租客房的收入 
Revenue月收入
CTP 营业利润贡献
GSS 宾客满意程度指数
MPI 市场渗透指数 
订单量=曝光量X转化率-取消量
1. 民宿房东维度:
   1. 销量收益，合作度，活动参与度，违规评分，三十天内无违规 无拒单 评分 回复率 
2. 用户维度
   1. 搜索场景(同城搜索，异地搜索)，评价率，累积访问次数，性别，年龄，提前预定天数，入住率
   2. 活跃指标: DAU活跃用户数 活跃率 在线时长 启动次数 PV UV

### 做的宽表
比如房东房源的信息表,我们会往里面塞一大堆维度退下来的,比如评论,比如评分
装修风格,地段,入住率

Occ客房入住率 
ADR已售客房平均房价 
RevPAR 可供出租客房的收入 
Revenue月收入
CTP 营业利润贡献
GSS 宾客满意程度指数
MPI 市场渗透指数 

浏览量
点击量
CTR 点击量/浏览量


### 宽表的设计原则,或者说你们是怎么设计宽表的
我们开发宽表就是为了避免重复迭代,得需要了解一下业务全流程,知道需要扩展哪些维度

设计的话我们就会去思考这个宽表到底会有多宽,能不能少一些字段,然后不要让这个宽表跨主题域
然后分清楚主次关系,做个热词和冷词汇的分离.



### 说说你最擅长的业务模板 

### 关于主题
主题:根据统计需求,将具有相似统计特征的内容放在一个分组上,方便后续的计算维护管理等
1. **流量主题**  
   1. 页面分析报表
   2. 会话分析报表
   3. 用户分析报表
   核心的度量比如有pv,uv,会话数,跳出会话数,访问时长等等
   DAU活跃用户数 活跃率 在线时长 启动次数 
   核心的维度有,时间维度,新老访客,地域,终端维度,入口页,退出页等  

   高阶函数 with cube | grouping set |  with  
   类似多维分析主题 广告分析 交互时间分析  运营活动分析

2. **用户活跃主题** 
   1. 会话次数
   2. 访问时长
   3. 连续访问天数
   4. 性别比例
   5. 年龄阶段分布
   6. 新老占比
   7. 地域分布
   中间建了用户连续活跃区间的中间记录表 也就是 字段是区间起始时间和结束时间 
   然后用来做增量的拉链表  节省空间  
   地域也能做拉链表  这样就能记住每次用户地域的变化

   连续活跃报表
   沉默天数报表

3. **留存分析主题**
   字段 计算日期 首访日期 留存天数 留存人数
   日留存率报表
   周留存率报表
4. **漏斗分析主题**
   1. 推送成单漏斗
   2. 暑期促销成单漏斗
   利用正则表达式来判断用户的行为事件序列的模式是否匹配漏斗模型定义中的要求
   rlike 满足正则
   regexp_extract 从字符串提取正则框定的部分
   regexp_repalce 正则替换 
   漏斗分析
   转化率
   点击转化率 预定转化率 支付转化率 
5. **归因主题**
   1. 广告
   2. 价格
   3. 展示界面
   4. 外观
   5. 环境
   6. 地理位置
   用到了spark sql + spark core 混编
      1. 先找出做过目标事件的用户
      2. 再从事件明细表中过滤出这些用户所发生的模型关心的事件记录
      3. 将事件记录数据按照用户分组
      4. 对每个用户的事件序列,按目标事件为分界点,切分成多段 因为一个用户可能会做过多次目标事件
      5. 对每一段按照归因策略算法打分
